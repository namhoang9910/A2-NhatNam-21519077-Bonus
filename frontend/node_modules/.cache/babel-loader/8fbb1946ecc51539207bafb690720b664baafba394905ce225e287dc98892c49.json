{"ast":null,"code":"var _jsxFileName = \"/app/src/components/Customer.js\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Customer(props) {\n  _s();\n  const {\n    customer,\n    customers,\n    setCustomers\n  } = props;\n  const [expanded, setExpanded] = useState(false);\n  const [customerName, setCustomerName] = useState(customer.customer_name);\n  const [customerEmail, setCustomerEmail] = useState(customer.customer_email);\n  const [customerPhone, setCustomerPhone] = useState(customer.customer_phone);\n  const [isEditing, setIsEditing] = useState(false);\n  const expandStyle = {\n    display: expanded ? 'block' : 'none'\n  };\n  async function doDelete(e) {\n    e.stopPropagation();\n    try {\n      const response = await fetch('http://localhost/api/customers/' + customer.customer_id, {\n        method: 'DELETE'\n      });\n      if (response.ok) {\n        const newCustomers = customers.filter(c => c.customer_id !== customer.customer_id);\n        setCustomers(newCustomers);\n      } else {\n        console.error('Failed to delete customer:', response);\n        alert('Failed to delete customer. Please try again.');\n      }\n    } catch (error) {\n      console.error('Error during deletion:', error);\n      alert('An error occurred during deletion. Please try again.');\n    }\n  }\n  async function doUpdate(e) {\n    e.preventDefault();\n    const updatedCustomer = {\n      customer_name: customerName,\n      customer_email: customerEmail,\n      customer_phone: customerPhone\n    };\n    const response = await fetch('http://localhost/api/customers/' + customer.customer_id, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(updatedCustomer)\n    });\n    const responseData = await response.json();\n    if (response.ok) {\n      const updatedCustomers = customers.map(c => c.customer_id === customer.customer_id ? {\n        ...c,\n        ...updatedCustomer\n      } : c);\n      setCustomers(updatedCustomers);\n      setIsEditing(false);\n    } else {\n      console.error('Failed to update customer:', responseData);\n      alert('Failed to update customer details. Please try again.');\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"customer\",\n    onClick: e => e.stopPropagation(),\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"title\",\n      onClick: () => setExpanded(!expanded),\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: customer.customer_name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: expandStyle,\n      children: [/*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), isEditing ? /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"new-customer\",\n        onSubmit: doUpdate,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Customer Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: customerName,\n            onChange: e => setCustomerName(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Customer Email:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            value: customerEmail,\n            onChange: e => setCustomerEmail(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Customer Phone:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: customerPhone,\n            onChange: e => setCustomerPhone(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Save Changes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Customer Name: \", customer.customer_name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Customer Email: \", customer.customer_email]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Customer Phone: \", customer.customer_phone]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setIsEditing(!isEditing),\n        children: isEditing ? 'Cancel' : 'Edit'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: doDelete,\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this)]\n  }, customer.customer_id, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 9\n  }, this);\n}\n_s(Customer, \"mRA9yT1v6JvgJ/dOuxHBrcL61i0=\");\n_c = Customer;\nexport default Customer;\nvar _c;\n$RefreshReg$(_c, \"Customer\");","map":{"version":3,"names":["useState","jsxDEV","_jsxDEV","Customer","props","_s","customer","customers","setCustomers","expanded","setExpanded","customerName","setCustomerName","customer_name","customerEmail","setCustomerEmail","customer_email","customerPhone","setCustomerPhone","customer_phone","isEditing","setIsEditing","expandStyle","display","doDelete","e","stopPropagation","response","fetch","customer_id","method","ok","newCustomers","filter","c","console","error","alert","doUpdate","preventDefault","updatedCustomer","headers","body","JSON","stringify","responseData","json","updatedCustomers","map","className","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","style","onSubmit","marginBottom","type","value","onChange","target","_c","$RefreshReg$"],"sources":["/app/src/components/Customer.js"],"sourcesContent":["import { useState } from 'react';\n\nfunction Customer(props) {\n    const { customer, customers, setCustomers } = props;\n    const [expanded, setExpanded] = useState(false);\n    const [customerName, setCustomerName] = useState(customer.customer_name);\n    const [customerEmail, setCustomerEmail] = useState(customer.customer_email);\n    const [customerPhone, setCustomerPhone] = useState(customer.customer_phone);\n    const [isEditing, setIsEditing] = useState(false);\n\n    const expandStyle = {\n        display: expanded ? 'block' : 'none'\n    };\n\n    async function doDelete(e) {\n        e.stopPropagation();\n        try {\n            const response = await fetch('http://localhost/api/customers/' + customer.customer_id, {\n                method: 'DELETE',\n            });\n\n            if (response.ok) {\n                const newCustomers = customers.filter(c => c.customer_id !== customer.customer_id);\n                setCustomers(newCustomers);\n            } else {\n                console.error('Failed to delete customer:', response);\n                alert('Failed to delete customer. Please try again.');\n            }\n        } catch (error) {\n            console.error('Error during deletion:', error);\n            alert('An error occurred during deletion. Please try again.');\n        }\n    }\n\n    async function doUpdate(e) {\n        e.preventDefault();\n\n        const updatedCustomer = {\n            customer_name: customerName,\n            customer_email: customerEmail,\n            customer_phone: customerPhone,\n        };\n\n        const response = await fetch('http://localhost/api/customers/' + customer.customer_id, {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(updatedCustomer),\n        });\n\n        const responseData = await response.json();\n\n        if (response.ok) {\n            const updatedCustomers = customers.map((c) =>\n                c.customer_id === customer.customer_id ? { ...c, ...updatedCustomer } : c\n            );\n            setCustomers(updatedCustomers);\n            setIsEditing(false);\n        } else {\n            console.error('Failed to update customer:', responseData);\n            alert('Failed to update customer details. Please try again.');\n        }\n    }\n\n    return (\n        <div key={customer.customer_id} className='customer' onClick={(e) => e.stopPropagation()}>\n            <div className='title' onClick={() => setExpanded(!expanded)}>\n                <h3>{customer.customer_name}</h3>\n            </div>\n\n            <div style={expandStyle}>\n                <hr />\n                {isEditing ? (\n                    <form className='new-customer' onSubmit={doUpdate}>\n                        <div style={{ marginBottom: '20px' }}>\n                            <label>Customer Name:</label>\n                            <input \n                                type='text' \n                                value={customerName} \n                                onChange={(e) => setCustomerName(e.target.value)} \n                            />\n                        </div>\n                        <div style={{ marginBottom: '20px' }}>\n                            <label>Customer Email:</label>\n                            <input \n                                type='email' \n                                value={customerEmail} \n                                onChange={(e) => setCustomerEmail(e.target.value)} \n                            />\n                        </div>\n                        <div style={{ marginBottom: '20px' }}>\n                            <label>Customer Phone:</label>\n                            <input \n                                type='text' \n                                value={customerPhone} \n                                onChange={(e) => setCustomerPhone(e.target.value)} \n                            />\n                        </div>\n                        <button type='submit'>Save Changes</button>\n                    </form>\n                ) : (\n                    <div>\n                        <p>Customer Name: {customer.customer_name}</p>\n                        <p>Customer Email: {customer.customer_email}</p>\n                        <p>Customer Phone: {customer.customer_phone}</p>\n                    </div>\n                )}\n\n                <button onClick={() => setIsEditing(!isEditing)}>\n                    {isEditing ? 'Cancel' : 'Edit'}\n                </button>\n                <button onClick={doDelete}>Delete</button>\n            </div>\n        </div>\n    );\n}\n\nexport default Customer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}