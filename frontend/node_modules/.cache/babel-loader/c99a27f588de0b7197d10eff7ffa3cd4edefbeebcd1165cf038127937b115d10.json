{"ast":null,"code":"var _jsxFileName = \"/app/src/components/Item.js\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Item(props) {\n  _s();\n  const {\n    item,\n    items,\n    setItems\n  } = props;\n  const [expanded, setExpanded] = useState(false);\n  const [itemName, setItemName] = useState(item.item_name);\n  const [itemPrice, setItemPrice] = useState(item.item_price);\n  const [isEditing, setIsEditing] = useState(false);\n  async function doDelete(e) {\n    e.stopPropagation();\n    const response = await fetch('http://localhost/api/items/' + item.item_id, {\n      method: 'DELETE'\n    });\n    if (response.ok) {\n      const newItems = items.filter(i => i.item_id !== item.item_id);\n      setItems(newItems);\n    }\n  }\n  async function doUpdate(e) {\n    e.preventDefault();\n    const updatedItem = {\n      item_name: itemName,\n      item_price: parseFloat(itemPrice)\n    };\n    const response = await fetch('http://localhost/api/items/' + item.item_id, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(updatedItem)\n    });\n    if (response.ok) {\n      const updatedItems = items.map(i => i.item_id === item.item_id ? {\n        ...i,\n        ...updatedItem\n      } : i);\n      setItems(updatedItems);\n      setIsEditing(false);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"item\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      onClick: () => setExpanded(!expanded),\n      children: item.item_name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), expanded && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [isEditing ? /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: doUpdate,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: itemName,\n          onChange: e => setItemName(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          step: \"0.01\",\n          value: itemPrice,\n          onChange: e => setItemPrice(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Name: \", item.item_name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Price: \", item.item_price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setIsEditing(!isEditing),\n        children: isEditing ? 'Cancel' : 'Edit'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button red\",\n        onClick: doDelete,\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n}\n_s(Item, \"pF1sPvJoIqyhhhq2u1ymGrwqjmI=\");\n_c = Item;\nexport default Item;\nvar _c;\n$RefreshReg$(_c, \"Item\");","map":{"version":3,"names":["useState","jsxDEV","_jsxDEV","Item","props","_s","item","items","setItems","expanded","setExpanded","itemName","setItemName","item_name","itemPrice","setItemPrice","item_price","isEditing","setIsEditing","doDelete","e","stopPropagation","response","fetch","item_id","method","ok","newItems","filter","i","doUpdate","preventDefault","updatedItem","parseFloat","headers","body","JSON","stringify","updatedItems","map","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","value","onChange","target","step","_c","$RefreshReg$"],"sources":["/app/src/components/Item.js"],"sourcesContent":["import { useState } from 'react';\n\nfunction Item(props) {\n    const { item, items, setItems } = props;\n    const [expanded, setExpanded] = useState(false);\n    const [itemName, setItemName] = useState(item.item_name);\n    const [itemPrice, setItemPrice] = useState(item.item_price);\n    const [isEditing, setIsEditing] = useState(false);\n\n    async function doDelete(e) {\n        e.stopPropagation();\n        const response = await fetch('http://localhost/api/items/' + item.item_id, {\n            method: 'DELETE',\n        });\n\n        if (response.ok) {\n            const newItems = items.filter(i => i.item_id !== item.item_id);\n            setItems(newItems);\n        }\n    }\n\n    async function doUpdate(e) {\n        e.preventDefault();\n        const updatedItem = {\n            item_name: itemName,\n            item_price: parseFloat(itemPrice),\n        };\n\n        const response = await fetch('http://localhost/api/items/' + item.item_id, {\n            method: 'PUT',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify(updatedItem),\n        });\n\n        if (response.ok) {\n            const updatedItems = items.map((i) =>\n                i.item_id === item.item_id ? { ...i, ...updatedItem } : i\n            );\n            setItems(updatedItems);\n            setIsEditing(false);\n        }\n    }\n\n    return (\n        <div className='item'>\n            <h3 onClick={() => setExpanded(!expanded)}>{item.item_name}</h3>\n            {expanded && (\n                <div>\n                    {isEditing ? (\n                        <form onSubmit={doUpdate}>\n                            <input \n                                type='text' \n                                value={itemName} \n                                onChange={(e) => setItemName(e.target.value)} \n                            />\n                            <input \n                                type='number' \n                                step='0.01' \n                                value={itemPrice} \n                                onChange={(e) => setItemPrice(e.target.value)} \n                            />\n                            <button type='submit'>Save</button>\n                        </form>\n                    ) : (\n                        <div>\n                            <p>Name: {item.item_name}</p>\n                            <p>Price: {item.item_price}</p>\n                        </div>\n                    )}\n                    <button onClick={() => setIsEditing(!isEditing)}>\n                        {isEditing ? 'Cancel' : 'Edit'}\n                    </button>\n                    <button className='button red' onClick={doDelete}>Delete</button>\n                </div>\n            )}\n        </div>\n    );\n}\n\nexport default Item;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}